<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link rel="stylesheet" type="text/css" href="insn.css" /><meta name="generator" content="iform.xsl" /><title>AND, ANDS (predicates)</title></head><body><table align="center"><tr><td><div class="topbar"><a href="index.html">Base Instructions</a></div></td><td><div class="topbar"><a href="fpsimdindex.html">SIMD&amp;FP Instructions</a></div></td><td><div class="topbar"><a href="sveindex.html">SVE Instructions</a></div></td><td><div class="topbar"><a href="encodingindex.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="shared_pseudocode.html">Shared Pseudocode</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><hr /><h2 class="instruction-section">AND, ANDS (predicates)</h2><p class="desc">Bitwise AND predicates.
          <p></p><p>
      <p class="aml">Bitwise AND active elements of the second source predicate with corresponding elements of the first source predicate and place the results in the corresponding elements of the destination predicate. Inactive elements in the destination predicate register are set to zero. Optionally sets the <span class="arm-defined-word">First</span> (N), <span class="arm-defined-word">None</span> (Z), <span class="arm-defined-word">!Last</span> (C) condition flags based on the predicate result, and the V flag to zero.</p>
    </p></p><p class="desc">This instruction is used by the aliases <a href="movs_and_p_p_pp.html" title="Move predicates (zeroing)">MOVS (predicated)</a>, and <a href="mov_and_p_p_pp.html" title="Move predicates (zeroing)">MOV (predicate, predicated, zeroing)</a>.</p>
    <p class="desc">
      It has encodings from 2 classes:
      <a href="#no_s">Not setting the condition flags</a>
       and 
      <a href="#s">Setting the condition flags</a>
    </p>
    <h3 class="classheading"><a name="no_s" id="no_s"></a>Not setting the condition flags</h3><div class="regdiagram-32"><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="l">0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td><td class="r">1</td><td class="lr">0</td><td class="lr">0</td><td class="l">0</td><td class="r">0</td><td colspan="4" class="lr">Pm</td><td class="l">0</td><td class="r">1</td><td colspan="4" class="lr">Pg</td><td class="lr">0</td><td colspan="4" class="lr">Pn</td><td class="lr">0</td><td colspan="4" class="lr">Pd</td></tr><tr class="secondrow"><td colspan="8"></td><td></td><td class="droppedname">S</td><td colspan="2"></td><td colspan="4"></td><td colspan="2"></td><td colspan="4"></td><td></td><td colspan="4"></td><td></td><td colspan="4"></td></tr></tbody></table></div><div class="encoding"><h4 class="encoding"></h4><p class="asm-code"><a name="and_p_p_pp_z" id="and_p_p_pp_z"></a>AND     <a href="#pd" title="Destination scalable predicate register (field &quot;Pd&quot;)">&lt;Pd&gt;</a>.B, <a href="#pg" title="Governing scalable predicate register (field &quot;Pg&quot;)">&lt;Pg&gt;</a>/Z, <a href="#pn" title="First source scalable predicate register (field &quot;Pn&quot;)">&lt;Pn&gt;</a>.B, <a href="#pm" title="Second source scalable predicate register (field &quot;Pm&quot;)">&lt;Pm&gt;</a>.B</p></div><p class="pseudocode">if !<a href="shared_pseudocode.html#impl-aarch64.HaveSVE.0" title="function: boolean HaveSVE()">HaveSVE</a>() then UNDEFINED;
integer esize = 8;
integer g = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pg);
integer n = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pn);
integer m = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pm);
integer d = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pd);
boolean setflags = FALSE;</p>
    <h3 class="classheading"><a name="s" id="s"></a>Setting the condition flags</h3><div class="regdiagram-32"><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="l">0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td><td class="r">1</td><td class="lr">0</td><td class="lr">1</td><td class="l">0</td><td class="r">0</td><td colspan="4" class="lr">Pm</td><td class="l">0</td><td class="r">1</td><td colspan="4" class="lr">Pg</td><td class="lr">0</td><td colspan="4" class="lr">Pn</td><td class="lr">0</td><td colspan="4" class="lr">Pd</td></tr><tr class="secondrow"><td colspan="8"></td><td></td><td class="droppedname">S</td><td colspan="2"></td><td colspan="4"></td><td colspan="2"></td><td colspan="4"></td><td></td><td colspan="4"></td><td></td><td colspan="4"></td></tr></tbody></table></div><div class="encoding"><h4 class="encoding"></h4><p class="asm-code"><a name="ands_p_p_pp_z" id="ands_p_p_pp_z"></a>ANDS    <a href="#pd" title="Destination scalable predicate register (field &quot;Pd&quot;)">&lt;Pd&gt;</a>.B, <a href="#pg" title="Governing scalable predicate register (field &quot;Pg&quot;)">&lt;Pg&gt;</a>/Z, <a href="#pn" title="First source scalable predicate register (field &quot;Pn&quot;)">&lt;Pn&gt;</a>.B, <a href="#pm" title="Second source scalable predicate register (field &quot;Pm&quot;)">&lt;Pm&gt;</a>.B</p></div><p class="pseudocode">if !<a href="shared_pseudocode.html#impl-aarch64.HaveSVE.0" title="function: boolean HaveSVE()">HaveSVE</a>() then UNDEFINED;
integer esize = 8;
integer g = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pg);
integer n = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pn);
integer m = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pm);
integer d = <a href="shared_pseudocode.html#impl-shared.UInt.1" title="function: integer UInt(bits(N) x)">UInt</a>(Pd);
boolean setflags = TRUE;</p>
  <p class="encoding-notes"></p><h3 class="explanations">Assembler Symbols</h3><div class="explanations"><table><col class="asyn-l" /><col class="asyn-r" /><tr><td>&lt;Pd&gt;</td><td><a name="pd" id="pd"></a>
        
          <p class="aml">Is the name of the destination scalable predicate register, encoded in the "Pd" field.</p>
        
      </td></tr></table><table><col class="asyn-l" /><col class="asyn-r" /><tr><td>&lt;Pg&gt;</td><td><a name="pg" id="pg"></a>
        
          <p class="aml">Is the name of the governing scalable predicate register, encoded in the "Pg" field.</p>
        
      </td></tr></table><table><col class="asyn-l" /><col class="asyn-r" /><tr><td>&lt;Pn&gt;</td><td><a name="pn" id="pn"></a>
        
          <p class="aml">Is the name of the first source scalable predicate register, encoded in the "Pn" field.</p>
        
      </td></tr></table><table><col class="asyn-l" /><col class="asyn-r" /><tr><td>&lt;Pm&gt;</td><td><a name="pm" id="pm"></a>
        
          <p class="aml">Is the name of the second source scalable predicate register, encoded in the "Pm" field.</p>
        
      </td></tr></table></div><p class="syntax-notes"></p><a name="aliasconditions" id="aliasconditions"></a><h3 class="aliastable">Alias Conditions</h3><table class="aliastable"><thead><tr><th>Alias</th><th>Is preferred when</th></tr></thead><tbody><tr><td><a href="movs_and_p_p_pp.html" title="Move predicates (zeroing)">MOVS (predicated)</a></td><td class="notfirst"><span class="pseudocode">S == '1' &amp;&amp; Pn == Pm</span></td></tr><tr><td><a href="mov_and_p_p_pp.html" title="Move predicates (zeroing)">MOV (predicate, predicated, zeroing)</a></td><td class="notfirst"><span class="pseudocode">S == '0' &amp;&amp; Pn == Pm</span></td></tr></tbody></table>
    <div class="ps" psname="execute"><a name="execute" id="execute"></a><h3 class="pseudocode">Operation</h3>
      <p class="pseudocode"><a href="shared_pseudocode.html#impl-aarch64.CheckSVEEnabled.0" title="function: CheckSVEEnabled()">CheckSVEEnabled</a>();
integer elements = <a href="shared_pseudocode.html#impl-aarch64.VL.read.none" title="accessor: integer VL">VL</a> DIV esize;
bits(<a href="shared_pseudocode.html#impl-aarch64.PL.read.none" title="accessor: integer PL">PL</a>) mask = <a href="shared_pseudocode.html#impl-aarch64.P.read.1" title="accessor: bits(width) P[integer n]">P</a>[g];
bits(<a href="shared_pseudocode.html#impl-aarch64.PL.read.none" title="accessor: integer PL">PL</a>) operand1 = <a href="shared_pseudocode.html#impl-aarch64.P.read.1" title="accessor: bits(width) P[integer n]">P</a>[n];
bits(<a href="shared_pseudocode.html#impl-aarch64.PL.read.none" title="accessor: integer PL">PL</a>) operand2 = <a href="shared_pseudocode.html#impl-aarch64.P.read.1" title="accessor: bits(width) P[integer n]">P</a>[m];
bits(<a href="shared_pseudocode.html#impl-aarch64.PL.read.none" title="accessor: integer PL">PL</a>) result;

for e = 0 to elements-1
    bit element1 = <a href="shared_pseudocode.html#impl-aarch64.ElemP.read.3" title="accessor: bit ElemP[bits(N) pred, integer e, integer esize]">ElemP</a>[operand1, e, esize];
    bit element2 = <a href="shared_pseudocode.html#impl-aarch64.ElemP.read.3" title="accessor: bit ElemP[bits(N) pred, integer e, integer esize]">ElemP</a>[operand2, e, esize];
    if <a href="shared_pseudocode.html#impl-aarch64.ElemP.read.3" title="accessor: bit ElemP[bits(N) pred, integer e, integer esize]">ElemP</a>[mask, e, esize] == '1' then
        <a href="shared_pseudocode.html#impl-aarch64.ElemP.write.3" title="accessor: ElemP[bits(N) &amp;pred, integer e, integer esize] = bit value">ElemP</a>[result, e, esize] = element1 AND element2;
    else
        <a href="shared_pseudocode.html#impl-aarch64.ElemP.write.3" title="accessor: ElemP[bits(N) &amp;pred, integer e, integer esize] = bit value">ElemP</a>[result, e, esize] = '0';

if setflags then
    PSTATE.&lt;N,Z,C,V&gt; = <a href="shared_pseudocode.html#impl-aarch64.PredTest.3" title="function: bits(4) PredTest(bits(N) mask, bits(N) result, integer esize)">PredTest</a>(mask, result, esize);
<a href="shared_pseudocode.html#impl-aarch64.P.write.1" title="accessor: P[integer n] = bits(width) value">P</a>[d] = result;</p>
    </div>
  <hr /><table align="center"><tr><td><div class="topbar"><a href="index.html">Base Instructions</a></div></td><td><div class="topbar"><a href="fpsimdindex.html">SIMD&amp;FP Instructions</a></div></td><td><div class="topbar"><a href="sveindex.html">SVE Instructions</a></div></td><td><div class="topbar"><a href="encodingindex.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="shared_pseudocode.html">Shared Pseudocode</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><p class="versions">
      Internal version only: isa v32.13, AdvSIMD v29.05, pseudocode v2020-12, sve v2020-12
      ; Build timestamp: 2020-12-16T16:19
    </p><p class="copyconf">
      Copyright © 2010-2020 Arm Limited or its affiliates. All rights reserved.
      This document is Non-Confidential.
    </p></body></html>
